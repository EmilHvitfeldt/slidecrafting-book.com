{"title":"Elements","markdown":{"yaml":{"title":"Elements"},"headingText":"Showing quarto code","containsRefs":false,"markdown":"\n\n\nThis one isn't as much a slidecrafting tip, as it is a quarto tip! If you are showing how to do something in Quarto using Quarto you need this tip. In essence what we are working with are [unexcuted blocks](https://quarto.org/docs/computations/execution-options.html#unexecuted-blocks).\n\nAdding a `markdown` cell around what you want to show. Important to use more ticks than any of the inside cells inside\n\nusing double curly brackets to indicate that the code block should not be executed. The following code when used in a quarto document will render as shown in the example\n\n````` markdown\n```` markdown\nThis is **Quarto** code\n\n```{{{python}}}\n1 + 1\n```\n````\n`````\n\n<iframe class=\"slide-deck\" src=\"examples/elements/tip-6.html\">\n\n</iframe>\n\n<a href=\"examples/elements/tip-6.qmd\" target=\"_blank\" class=\"listing-slides btn-links\">{{< fa file >}}qmd<a>\n\n## Changing plot backgrounds\n\nPlots and charts are useful in slides. Changing the background makes them fit in. This post will go over how to change the background of your plots to better match the slide background, in a handful of different libraries.\n\n### Why are we doing this?\n\nIf you are styling your slides to change the background color, you will find that most plotting libraries default to using a white background color. If your background is non-white it will stick out like a sore thumb. I find that changing the background color to something transparent `#FFFFFF00` is the easiest course of action.\n\n> Why make the background transparent instead of making it match the background?\n\nIt is simply easier that way. There is only one color we need to set and it is `#FFFFFF00`. This works even if the slide background color is different from slide to slide, or if the background is a non-solid color.\n\n### base R\n\nwe don't have to make any changes to the R code, we can supply the chunk options `dev` and `dev.args` for the chunk to `\"png\"` and `list(bg=\"transparent\")` respectively and you are good. The chunk will look like this.\n\n````md\n```{{r, dev = \"png\", dev.args=list(bg=\"transparent\")}}\nplot(mpg ~ disp, data = mtcars, col = factor(am), pch = 16, bty = \"n\")\n```\n````\n\nYou can also change the options globally using the following options in the yaml.\n\n```yaml\nknitr:\n  opts_chunk:\n    dev: png\n    dev.args: { bg: \"transparent\" }\n```\n\n::: {layout-ncol=2}\n![](media/base-before.png)\n\n![](media/base-after.png)\n:::\n\n### ggplot2\n\nggplot2 are handled the same way as base R plotting, so we don't have to make any changes to the R code, we can supply the chunk options `dev` and `dev.args` for the chunk to `\"png\"` and `list(bg=\"transparent\")` respectively and you are good. The chunk will look like this.\n\n````md\n```{{r, dev = \"png\", dev.args=list(bg=\"transparent\")}}\nlibrary(ggplot2)\nmtcars |>\n  ggplot(aes(disp, mpg, color = factor(am))) +\n  geom_point() +\n  theme_minimal()\n```\n````\n\nYou can also change the options globally using the following options in the yaml.\n\n```yaml\nknitr:\n  opts_chunk:\n    dev: png\n    dev.args: { bg: \"transparent\" }\n```\n\n::: {layout-ncol=2}\n![](media/ggplot2-before.png)\n\n![](media/ggplot2-after.png)\n:::\n\n### matplotlib\n\nWith matplotlib, we need to set the background color twice, once for the plotting area, and once for the area outside the plotting area.\n\n```python\nfig = plt.figure()\n# outside plotting area\nplt.axes().set_facecolor(\"#FFFFFF00\")\n\n# your plot\nplt.scatter(x, y, c=colors)\n\n# sinde plotting area\nfig.patch.set_facecolor(\"#FFFFFF00\")\n```\n\n::: {layout-ncol=2}\n![](media/matplotlib-before.png)\n\n![](media/matplotlib-after.png)\n:::\n\n### seaborn\n\nFor seaborn, we also set it twice, both of them in `set_style()`\n\n```python\nsns.set_style(rc={'axes.facecolor':'#FFFFFF00', \n                  'figure.facecolor':'#FFFFFF00'})\n```\n\n::: {layout-ncol=2}\n![](media/seaborn-before.png)\n\n![](media/seaborn-after.png)\n:::\n\n### Source Document\n\nThe above was generated with this document.\n\n<a href=\"examples/elements/plot-background-examples.qmd\" target=\"_blank\" class=\"listing-slides btn-links\">{{< fa file >}}source document<a>\n\n## Plot sizing\n\nPlots and charts are useful in slides. But we need to make sure they are sized correctly to be as effective as possible.\n\n### auto-stretch option\n\nRevealjs slides default to having the option [auto-stretch: true](https://quarto.org/docs/presentations/revealjs/advanced.html#stretch), this ensures that figures always fit inside the slide. You can turn it off globally like this.\n\n```yaml\nformat:\n  revealjs:\n    auto-stretch: false\n```\n\nor on a slide-by-slide basis by adding the `.nostretch` class to the slide.\n\n```md\n## Slide Title {.nostretch}\n```\n\nWe see how they affect sizing in the following slides first with the default, and second with `.nostretch`.\n\n![](media/figures/1.png)\n\n![](media/figures/2.png)\n\nBy themselves, they look pretty similar. One occasion where you really notice the difference is when there are other elements on the slide. `auto-stretch` makes sure the image fits by making the image smaller as seen below.\n\n![](media/figures/3.png)\n\n![](media/figures/4.png)\n\n### Sizing Options\n\nWhen sizing plots we need to remember that we have to deal with two kinds of sizes. First is the size of the actual file on disk, this is controlled using `out-width` and `out-height`. Next is how big the image is supposed to be in the document, which is controlled using `fig-width`, `fig-height`, and/or `fig-asp`. Lastly, you can control the location using `fig-align` and the resolution using `fig-dpi`.\n\nAll of these numbers will change depending on whether you have a title or other elements on your slides, what fonts you use, and the aspect ratio of the slides themselves.\n\n#### out-width, out-height\n\nSetting these options affects the size of the resulting image on disk. If they are set smaller than usual, we get an image that doesn't take up the whole screen.\n\n```{{r}}\n#| out-width: 6in\n#| out-height: 3.5in\n```\n\n![](media/figures/5.png)\n\n![](media/figures/6.png)\n\nI don't find myself using these options much as I tend to want images that take up most of the space, but they are useful to know.\n\n### fig-width, fig-height\n\nI end up using `fig-width` and `fig-height` the most out of the options shown in this blog post. I find that the default values are too high, making the text on the plot too small for the viewer to see. Especially for an in-person audience.\n\nBelow is the same chart 4 times with different value pairs for `fig-width` and `fig-height`. notice how the default values appear to be around `fig-width: 9` and `fig-height: 5`.\n\n![](media/figures/7.png)\n\n![](media/figures/8.png)\n\n![](media/figures/9.png)\n\n![](media/figures/10.png)\n\nAll of the above figures have roughly the same aspect ratios, but if you want others you just specify different values. Like this square chart below.\n\n![](media/figures/11.png)\n\n### fig-asp\n\nYou might have noticed that the ratios shown in the last section weren't identical. Because unless you deal with 1-2 or 1-1 ratios you are going to get decimals very fast. And you have to recalculate small things over and over again. This is why `fig-asp` is amazing. Simply determine the aspect ratio between the height and width, set that as the `fig-asp` and then you just have to set one of `fig-height` or `fig-width`. Is it too small? increase `fig-height` and keep `fig-asp` the same. is it too big? decrease `fig-height` and keep `fig-asp` the same.\n\n![](media/figures/12.png)\n\n![](media/figures/13.png)\n\n### fig-align\n\nUnless your chart fits fully inside the slide then it tends to be left aligned, you can change that with `fig-align`, setting it to `left`, `center` or `right`.\n\n![](media/figures/14.png)\n\n![](media/figures/15.png)\n\n![](media/figures/16.png)\n\n### fig-dpi\n\nLastly, something you might need to worry about is the **D**ots **P**er **I**nch (DPI) specified by `fig-dpi`. This is a measure of resolution in your chart. If you see your chart becoming a little blurry, increase the dpi until it isn't anymore. Note that dpi will result in larger file sizes, so only change if you have to.\n\n![](media/figures/17.png)\n\n![](media/figures/18.png)\n\n### Make work with columns\n\neven if you set the option globally, you will have to make slide-by-slide adjustments, such as with charts in `.columns`. Below is one example of how we can modify the `fig-asp` to make it look decent in a column layout.\n\n![](media/figures/19.png)\n\n### Source Document\n\nThe above was generated with this document.\n\n<a href=\"examples/elements/plot-sizing-examples.qmd\" target=\"_blank\" class=\"listing-slides btn-links\">{{< fa file >}}source document<a>","srcMarkdownNoYaml":"\n\n## Showing quarto code\n\nThis one isn't as much a slidecrafting tip, as it is a quarto tip! If you are showing how to do something in Quarto using Quarto you need this tip. In essence what we are working with are [unexcuted blocks](https://quarto.org/docs/computations/execution-options.html#unexecuted-blocks).\n\nAdding a `markdown` cell around what you want to show. Important to use more ticks than any of the inside cells inside\n\nusing double curly brackets to indicate that the code block should not be executed. The following code when used in a quarto document will render as shown in the example\n\n````` markdown\n```` markdown\nThis is **Quarto** code\n\n```{{{python}}}\n1 + 1\n```\n````\n`````\n\n<iframe class=\"slide-deck\" src=\"examples/elements/tip-6.html\">\n\n</iframe>\n\n<a href=\"examples/elements/tip-6.qmd\" target=\"_blank\" class=\"listing-slides btn-links\">{{< fa file >}}qmd<a>\n\n## Changing plot backgrounds\n\nPlots and charts are useful in slides. Changing the background makes them fit in. This post will go over how to change the background of your plots to better match the slide background, in a handful of different libraries.\n\n### Why are we doing this?\n\nIf you are styling your slides to change the background color, you will find that most plotting libraries default to using a white background color. If your background is non-white it will stick out like a sore thumb. I find that changing the background color to something transparent `#FFFFFF00` is the easiest course of action.\n\n> Why make the background transparent instead of making it match the background?\n\nIt is simply easier that way. There is only one color we need to set and it is `#FFFFFF00`. This works even if the slide background color is different from slide to slide, or if the background is a non-solid color.\n\n### base R\n\nwe don't have to make any changes to the R code, we can supply the chunk options `dev` and `dev.args` for the chunk to `\"png\"` and `list(bg=\"transparent\")` respectively and you are good. The chunk will look like this.\n\n````md\n```{{r, dev = \"png\", dev.args=list(bg=\"transparent\")}}\nplot(mpg ~ disp, data = mtcars, col = factor(am), pch = 16, bty = \"n\")\n```\n````\n\nYou can also change the options globally using the following options in the yaml.\n\n```yaml\nknitr:\n  opts_chunk:\n    dev: png\n    dev.args: { bg: \"transparent\" }\n```\n\n::: {layout-ncol=2}\n![](media/base-before.png)\n\n![](media/base-after.png)\n:::\n\n### ggplot2\n\nggplot2 are handled the same way as base R plotting, so we don't have to make any changes to the R code, we can supply the chunk options `dev` and `dev.args` for the chunk to `\"png\"` and `list(bg=\"transparent\")` respectively and you are good. The chunk will look like this.\n\n````md\n```{{r, dev = \"png\", dev.args=list(bg=\"transparent\")}}\nlibrary(ggplot2)\nmtcars |>\n  ggplot(aes(disp, mpg, color = factor(am))) +\n  geom_point() +\n  theme_minimal()\n```\n````\n\nYou can also change the options globally using the following options in the yaml.\n\n```yaml\nknitr:\n  opts_chunk:\n    dev: png\n    dev.args: { bg: \"transparent\" }\n```\n\n::: {layout-ncol=2}\n![](media/ggplot2-before.png)\n\n![](media/ggplot2-after.png)\n:::\n\n### matplotlib\n\nWith matplotlib, we need to set the background color twice, once for the plotting area, and once for the area outside the plotting area.\n\n```python\nfig = plt.figure()\n# outside plotting area\nplt.axes().set_facecolor(\"#FFFFFF00\")\n\n# your plot\nplt.scatter(x, y, c=colors)\n\n# sinde plotting area\nfig.patch.set_facecolor(\"#FFFFFF00\")\n```\n\n::: {layout-ncol=2}\n![](media/matplotlib-before.png)\n\n![](media/matplotlib-after.png)\n:::\n\n### seaborn\n\nFor seaborn, we also set it twice, both of them in `set_style()`\n\n```python\nsns.set_style(rc={'axes.facecolor':'#FFFFFF00', \n                  'figure.facecolor':'#FFFFFF00'})\n```\n\n::: {layout-ncol=2}\n![](media/seaborn-before.png)\n\n![](media/seaborn-after.png)\n:::\n\n### Source Document\n\nThe above was generated with this document.\n\n<a href=\"examples/elements/plot-background-examples.qmd\" target=\"_blank\" class=\"listing-slides btn-links\">{{< fa file >}}source document<a>\n\n## Plot sizing\n\nPlots and charts are useful in slides. But we need to make sure they are sized correctly to be as effective as possible.\n\n### auto-stretch option\n\nRevealjs slides default to having the option [auto-stretch: true](https://quarto.org/docs/presentations/revealjs/advanced.html#stretch), this ensures that figures always fit inside the slide. You can turn it off globally like this.\n\n```yaml\nformat:\n  revealjs:\n    auto-stretch: false\n```\n\nor on a slide-by-slide basis by adding the `.nostretch` class to the slide.\n\n```md\n## Slide Title {.nostretch}\n```\n\nWe see how they affect sizing in the following slides first with the default, and second with `.nostretch`.\n\n![](media/figures/1.png)\n\n![](media/figures/2.png)\n\nBy themselves, they look pretty similar. One occasion where you really notice the difference is when there are other elements on the slide. `auto-stretch` makes sure the image fits by making the image smaller as seen below.\n\n![](media/figures/3.png)\n\n![](media/figures/4.png)\n\n### Sizing Options\n\nWhen sizing plots we need to remember that we have to deal with two kinds of sizes. First is the size of the actual file on disk, this is controlled using `out-width` and `out-height`. Next is how big the image is supposed to be in the document, which is controlled using `fig-width`, `fig-height`, and/or `fig-asp`. Lastly, you can control the location using `fig-align` and the resolution using `fig-dpi`.\n\nAll of these numbers will change depending on whether you have a title or other elements on your slides, what fonts you use, and the aspect ratio of the slides themselves.\n\n#### out-width, out-height\n\nSetting these options affects the size of the resulting image on disk. If they are set smaller than usual, we get an image that doesn't take up the whole screen.\n\n```{{r}}\n#| out-width: 6in\n#| out-height: 3.5in\n```\n\n![](media/figures/5.png)\n\n![](media/figures/6.png)\n\nI don't find myself using these options much as I tend to want images that take up most of the space, but they are useful to know.\n\n### fig-width, fig-height\n\nI end up using `fig-width` and `fig-height` the most out of the options shown in this blog post. I find that the default values are too high, making the text on the plot too small for the viewer to see. Especially for an in-person audience.\n\nBelow is the same chart 4 times with different value pairs for `fig-width` and `fig-height`. notice how the default values appear to be around `fig-width: 9` and `fig-height: 5`.\n\n![](media/figures/7.png)\n\n![](media/figures/8.png)\n\n![](media/figures/9.png)\n\n![](media/figures/10.png)\n\nAll of the above figures have roughly the same aspect ratios, but if you want others you just specify different values. Like this square chart below.\n\n![](media/figures/11.png)\n\n### fig-asp\n\nYou might have noticed that the ratios shown in the last section weren't identical. Because unless you deal with 1-2 or 1-1 ratios you are going to get decimals very fast. And you have to recalculate small things over and over again. This is why `fig-asp` is amazing. Simply determine the aspect ratio between the height and width, set that as the `fig-asp` and then you just have to set one of `fig-height` or `fig-width`. Is it too small? increase `fig-height` and keep `fig-asp` the same. is it too big? decrease `fig-height` and keep `fig-asp` the same.\n\n![](media/figures/12.png)\n\n![](media/figures/13.png)\n\n### fig-align\n\nUnless your chart fits fully inside the slide then it tends to be left aligned, you can change that with `fig-align`, setting it to `left`, `center` or `right`.\n\n![](media/figures/14.png)\n\n![](media/figures/15.png)\n\n![](media/figures/16.png)\n\n### fig-dpi\n\nLastly, something you might need to worry about is the **D**ots **P**er **I**nch (DPI) specified by `fig-dpi`. This is a measure of resolution in your chart. If you see your chart becoming a little blurry, increase the dpi until it isn't anymore. Note that dpi will result in larger file sizes, so only change if you have to.\n\n![](media/figures/17.png)\n\n![](media/figures/18.png)\n\n### Make work with columns\n\neven if you set the option globally, you will have to make slide-by-slide adjustments, such as with charts in `.columns`. Below is one example of how we can modify the `fig-asp` to make it look decent in a column layout.\n\n![](media/figures/19.png)\n\n### Source Document\n\nThe above was generated with this document.\n\n<a href=\"examples/elements/plot-sizing-examples.qmd\" target=\"_blank\" class=\"listing-slides btn-links\">{{< fa file >}}source document<a>"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"elements.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.56","bibliography":["references.bib"],"theme":"cosmo","title":"Elements"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}